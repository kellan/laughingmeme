<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>There Has Got To Be A Better Way | Kellan Elliott-McCrea: Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="There Has Got To Be A Better Way" />
<meta name="author" content="Kellan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="So I’ve got this nifty little RSS parser doohickey, Magpie. In the name of lowering the curve, and weaning PHP programmers away from their previously available hackish solutions I tried to make it as simple to use, and “PHP-like” as possible. Meaning that fetching the remote feed, and parsing it, and caching it have been rolled into one convenient step. Now that HTTP conditional GETs are all the rage, I’m adding them to Magpie. (I’ve had an ugly implementation lying around for a while, but its not even worth check into CVS)" />
<meta property="og:description" content="So I’ve got this nifty little RSS parser doohickey, Magpie. In the name of lowering the curve, and weaning PHP programmers away from their previously available hackish solutions I tried to make it as simple to use, and “PHP-like” as possible. Meaning that fetching the remote feed, and parsing it, and caching it have been rolled into one convenient step. Now that HTTP conditional GETs are all the rage, I’m adding them to Magpie. (I’ve had an ugly implementation lying around for a while, but its not even worth check into CVS)" />
<link rel="canonical" href="https://laughingmeme.org//2002/10/23/there-has-got-to-be-a-better-way/" />
<meta property="og:url" content="https://laughingmeme.org//2002/10/23/there-has-got-to-be-a-better-way/" />
<meta property="og:site_name" content="Kellan Elliott-McCrea: Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2002-10-23T18:54:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="There Has Got To Be A Better Way" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kellan"},"dateModified":"2002-10-23T18:54:00+00:00","datePublished":"2002-10-23T18:54:00+00:00","description":"So I’ve got this nifty little RSS parser doohickey, Magpie. In the name of lowering the curve, and weaning PHP programmers away from their previously available hackish solutions I tried to make it as simple to use, and “PHP-like” as possible. Meaning that fetching the remote feed, and parsing it, and caching it have been rolled into one convenient step. Now that HTTP conditional GETs are all the rage, I’m adding them to Magpie. (I’ve had an ugly implementation lying around for a while, but its not even worth check into CVS)","headline":"There Has Got To Be A Better Way","mainEntityOfPage":{"@type":"WebPage","@id":"https://laughingmeme.org//2002/10/23/there-has-got-to-be-a-better-way/"},"url":"https://laughingmeme.org//2002/10/23/there-has-got-to-be-a-better-way/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://laughingmeme.org//feed.xml" title="Kellan Elliott-McCrea: Blog" /><style>
    .post-date {
      float: right;
    }
  </style>
  <script defer data-domain="laughingmeme.org" src="https://plausible.io/js/script.js"></script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kellan Elliott-McCrea: Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="https://kellanem.com/notes/">Leadership notes</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">There Has Got To Be A Better Way</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2002-10-23T18:54:00+00:00" itemprop="datePublished">Oct 23, 2002
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Kellan</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>So I’ve got this nifty little RSS parser doohickey, <a href="http://magpierss.sf.net">Magpie</a>. In the name of lowering the curve, and weaning PHP programmers away from their previously available hackish solutions I tried to make it as simple to use, and “PHP-like” as possible. Meaning that fetching the remote feed, and parsing it, and caching it have been rolled into one convenient step. Now that <a href="http://fishbowl.pastiche.org/archives/001132.html">HTTP conditional GETs</a> are all the rage, I’m adding them to Magpie. (I’ve had an ugly implementation lying around for a while, but its not even worth check into CVS)</p>

<h3 id="php-as-web-client">PHP as Web Client</h3>

<p>But how the hell does one do web automation with PHP? I feel like no one has ever taken this problem on before in PHP. Or at least no one on the web is talking about it somewhere I can find it. How does one get at <code class="language-plaintext highlighter-rouge">If-Modified-Since</code>, <code class="language-plaintext highlighter-rouge">Last-Modified</code>, and <code class="language-plaintext highlighter-rouge">Etag</code>? Where is <a href="http://www.linpro.no/lwp/">LWP</a> or <a href="http://www.python.org/doc/2.2.1/lib/module-urllib2.html">urllib2</a> for PHP?<br />
You can get at the <strong>response</strong> headers from <code class="language-plaintext highlighter-rouge">fopen()</code> from the array <code class="language-plaintext highlighter-rouge">$http&lt;em&gt;response&lt;/em&gt;header</code> which is magically instaniated behind the scenes. (because PHP does that kind of thing) I wonder if I stuffed some vaules into an array named <code class="language-plaintext highlighter-rouge">$http&lt;em&gt;request&lt;/em&gt;header</code>, would it work? (<strong>No</strong>, it doesn’t)</p>

<h4 id="php-cookbook">PHP Cookbook</h4>

<p>The <a href="http://www.oreilly.com/catalog/phpckbk/">PHP Cookbook</a> has a tantalizing Chapter 11 entitled “Web Automation”, with rule 11.1 being “Fetching URLs with GET”, and rule 11.4 “Fetching URLs with Headers”, sounding just about perfect. And its supposed to come out this November, could only by 9 days, but I’m impatient. I’m going to stop by <a href="http://www.quantumbooks.com/">Quantum</a> today, to see if they have one of their looks-like-someone-snuck-it-out-the-back-door-and-photo-copied-it O’Reilly specials.</p>

<h4 id="rolling-your-own">Rolling Your Own</h4>

<p>So barring the deliverance from on high by O’Reilly it appears that the only way I’m going to get these features right now is to roll my own using <code class="language-plaintext highlighter-rouge">fsockopen()</code> and hand-packed headers. Have I mentioned that PHP is sadly deficient in tools?</p>

<p><strong>update, 10/25</strong>: So the word on the street is “just use sockets”, the answer rolls off the mailing lists and newsgroups, with the polish and weariness of a frequently asked question. No one suggested it, but I’m also intrigued by <a href="http://snoopy.sf.net">Snoopy, the web client class for PHP</a>. I think I’ll start by rolling my own, and loop back to Snoopy when I have time to do benchmarks.</p>

<p><strong>fyi:</strong> ended up using Snoopy, very happy with it.</p>

<h3 id="the-impenetrable-importance-of-culture">The Impenetrable Importance of Culture</h3>

<p>For me the hardest part in working with languages I’m less familiar with (Python, and PHP for example) rather then those I’m more comfortable with (Perl or Java) is not syntax questions, it’s culture. For all of Perl’s much vaunted “There is More Then One Way To Do It”, I know the proper way to do things, the proper tool to reach for, and if I don’t I have ways of finding out, largely through internal calculation based on my understanding of the Perl reputation landscape. It is that information which is opaque to me, especially in PHP where the vast number of practioners are novices.</p>

  </div><a class="u-url" href="/2002/10/23/there-has-got-to-be-a-better-way/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kellan Elliott-McCrea</li><li><a class="u-email" href="mailto:kellan@gmail.com">kellan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li>On Mastodon: <a href="https://fiasco.social/@kellan">@kellan</a></li><li><a href="https://www.twitter.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.flickr.com/photos/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#flickr"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://github.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.linkedin.com/in/kellanem"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">kellanem</span></a></li><li><a href="https://kellanem.com/notes/">Leadership blog</a></li>
</ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A personal blog of Kellan Elliott-McCrea. I don&#39;t really know what a &quot;laughing meme&quot; is. It sounded cool in 1999.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
