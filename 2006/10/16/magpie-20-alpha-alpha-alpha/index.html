<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Magpie 2.0-alpha-alpha-alpha | Kellan Elliott-McCrea: Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Magpie 2.0-alpha-alpha-alpha" />
<meta name="author" content="Kellan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Probably surprises no one but me, but the work on Magpie has been moving slowly again lately. Rather then continue futzing with it in the rare spare moments, I’m going to push it out in a very raw state, where folks can give some feedback. (and because folks keep asking about it) This is a preview release, very alpha." />
<meta property="og:description" content="Probably surprises no one but me, but the work on Magpie has been moving slowly again lately. Rather then continue futzing with it in the rare spare moments, I’m going to push it out in a very raw state, where folks can give some feedback. (and because folks keep asking about it) This is a preview release, very alpha." />
<link rel="canonical" href="https://laughingmeme.org/2006/10/16/magpie-20-alpha-alpha-alpha/" />
<meta property="og:url" content="https://laughingmeme.org/2006/10/16/magpie-20-alpha-alpha-alpha/" />
<meta property="og:site_name" content="Kellan Elliott-McCrea: Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2006-10-16T04:47:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Magpie 2.0-alpha-alpha-alpha" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kellan"},"dateModified":"2006-10-16T04:47:00+00:00","datePublished":"2006-10-16T04:47:00+00:00","description":"Probably surprises no one but me, but the work on Magpie has been moving slowly again lately. Rather then continue futzing with it in the rare spare moments, I’m going to push it out in a very raw state, where folks can give some feedback. (and because folks keep asking about it) This is a preview release, very alpha.","headline":"Magpie 2.0-alpha-alpha-alpha","mainEntityOfPage":{"@type":"WebPage","@id":"https://laughingmeme.org/2006/10/16/magpie-20-alpha-alpha-alpha/"},"url":"https://laughingmeme.org/2006/10/16/magpie-20-alpha-alpha-alpha/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://laughingmeme.org/feed.xml" title="Kellan Elliott-McCrea: Blog" /><style>
    .post-date {
      float: right;
    }
  </style>
  <script defer data-domain="laughingmeme.org" src="https://plausible.io/js/script.js"></script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kellan Elliott-McCrea: Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="https://kellanem.com/notes/">Leadership notes</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Magpie 2.0-alpha-alpha-alpha</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2006-10-16T04:47:00+00:00" itemprop="datePublished">Oct 16, 2006
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Kellan</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="http://magpiephp.com/magpie-logo.jpg" alt="" />Probably surprises no one but me, but the work on Magpie has been moving slowly again lately. Rather then continue futzing with it in the rare spare moments, I’m going to push it out in a very raw state, where folks can give some feedback. (and because folks keep asking about it) This is a preview release, very alpha.</p>

<h3 id="alpha">Alpha</h3>

<p>Alpha means its broken, there are missing features (many of which are actually in the current Magpie 0.7x releases), and stuff will change. Whether you find that exciting or off-putting is a personal thing.</p>

<h3 id="getting-started">Getting Started</h3>

<p>So um, yeah, as of yet no documentation. That said I’ve included the classic <code class="language-plaintext highlighter-rouge">magpie_simple.php</code> script, unchanged except for the require statement. For really simple scripts that is all that is required.</p>

<p>Grab the <a href="http://laughingmeme.org/code/magpie2.0-alpha-preview-1.tar.gz">current code, Magpie 2.0-alpha-PR1</a>. This isn’t its final home, but I am taking this opportunity to finally break free of Sourceforge which has been a long standing goal.</p>

<p>(I know, we all prefer a good <code class="language-plaintext highlighter-rouge">var_dump()</code> plus source reading to docs, but their current non-existence won’t continue)</p>

<h3 id="goals-for-20">Goals for 2.0</h3>

<p>There were three over-arching design goals in this rewrite, plus a slew of secondary goals.</p>

<h4 id="1-support-new-namespaces-and-elements-easily">1. Support new namespaces and elements, easily</h4>

<p>Rather then go on trying to push the universal rules for mapping unknown elements to datastructures (the Magpie 1.0 approach) I’ve focused on making it simple to register custom parsing logic, and having intelligent defaults. (aka more like what <a href="http://feedparser.org/">Feedparser.py</a> does) I expect that we’ll handle most known namespaces in short order, and barring another total upheaval of the landscape ala the <a href="http://www.intertwingly.net/wiki/pie/">Pie/Atom project</a> should sit us in good stead as feed use continues to become more sophisticated.</p>

<h4 id="2-pluggable-components">2. Pluggable components</h4>

<p>You should be able to easily swap out the caching layer (database caches anyone?), the HTTP layer (multiplexed curl?), even the parser. Besides the added flexibility, the theory is this will make embedding simpler.</p>

<p>Who knows, maybe someone will even contribute a pluggable parser that can handle something other then well formed XML.</p>

<h4 id="3-mostly-backwards-compatible">3. Mostly backwards compatible</h4>

<p>For simple stuff, you’re scripts should go on working. There is still a 1 function interface (if you liked that), still bust everything down into a couple of nested arrays for easy looping and echoing. Even where different it should feel familiar.</p>

<h3 id="known-issues">Known Issues</h3>

<ul>
  <li>Parser doesn’t support xml:base nor xml:lang nor Atom inheritance. It will, but these features still annoy me, and as long as no one is using the code I can’t seem to motivate to support them.</li>
  <li>I’m also not doing all the normalization between feed types that I do in “Magpie classic”. Again, its coming.</li>
  <li>Not sanitizing content yet.</li>
  <li>Not just a new parser, but a new HTTP client as well. Basic HTTP auth support is there, digest isn’t. Haven’t added back in SSL support yet.</li>
  <li>No documentation per se.</li>
</ul>

<h2 id="incompatibilities-and-gotcha">Incompatibilities and Gotcha</h2>

<ul>
  <li>Just use <code class="language-plaintext highlighter-rouge">$item['content']</code> instead of <code class="language-plaintext highlighter-rouge">$item['content']['encoded']</code> or <code class="language-plaintext highlighter-rouge">$item['atom_content']</code>.</li>
  <li>If caching is turned on, and Magpie can’t write to it’s cache, it will throw a fatal error, rather then quietly working in a degraded state. This might change, but its been a major support issue.</li>
</ul>

<h3 id="more-features">More features</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">fetch_rss()</code> now supports taking per feeds options. This was the most requested feature, ever. (e.g. cache age, output encoding, user-agent, etc)</li>
  <li>Parses enclosures, this was the second most requested feature.</li>
  <li>
    <p>Handles repeated elements properly. (dc:subject, link, whatnot)</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  echo $item['dc']['subject'];
  foreach ($item['dc']['subjects'] as $subj) { ... }
</code></pre></div>    </div>
  </li>
  <li>Atom 1.0 support modulo known issues.</li>
  <li>Tests. Most of them based on <a href="http://feedparser.org/tests/">Mark’s FP tests</a>. More added all the time. Currently not distributing with Magpie as I haven’t really figured out the license issues.</li>
  <li>Confusing new licensing. Stated goal is to license under a dual GPL/BSD license. That means you get to choose if you’re using the software under the GPL, or the BSD. In addition you can upgrade your license to GPL from BSD (as you can with any BSD licensed software) merely by wishing it to be so.</li>
  <li>Lots more, really.</li>
</ul>

<p>Other then that, its just like Magpie <img src="http://lm.local/wp-includes/images/smilies/simple-smile.png" alt=":)" /></p>

  </div><a class="u-url" href="/2006/10/16/magpie-20-alpha-alpha-alpha/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kellan Elliott-McCrea</li><li><a class="u-email" href="mailto:kellan@gmail.com">kellan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li>On Mastodon: <a href="https://fiasco.social/@kellan">@kellan</a></li><li><a href="https://www.twitter.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.flickr.com/photos/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#flickr"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://github.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.linkedin.com/in/kellanem"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">kellanem</span></a></li><li><a href="https://kellanem.com/notes/">Leadership blog</a></li>
</ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A personal blog of Kellan Elliott-McCrea. I don&#39;t really know what a &quot;laughing meme&quot; is. It sounded cool in 1999.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
