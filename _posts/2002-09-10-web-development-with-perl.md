---
id: 145
title: 'Web Development with Perl.'
date: '2002-09-10T17:19:00+00:00'
author: Kellan
layout: post
guid: 'http://lm.quxx.info/?p=145'
permalink: /2002/09/10/web-development-with-perl/
typo_id:
    - '143'
mt_id:
    - '154'
link_related:
    - ''
raw_content:
    - "<p>\r\nIn preparation for doing the Protest.net re-write I\\'m doing some research on web\r\nframeworks.  I find myself rewriting the same central dispatcher code, adding\r\nrefinements, like a redirect method (similiar to the forward() method in\r\nservlets) and in general missing some of the refinements of Java\\'s web\r\nenvironments (servlets, <a href=\\\"http://jakarta.apache.org/struts/index.html\\\">\r\nStruts</a>, bundles for i18n) while refusing to give up\r\nPerl, CPAN, and <a href=\\\"http://www.tt2.com\\\">Template Toolkit</a>.\r\n</p>\r\n<p>\r\n\r\nThis is my brain dump so far.  Lots of questions, a few answers. The next step will be firing up the text editor\r\nand looking under the hood.\r\n</p>\r\n<p>\r\n<h3>Steal from the Best</h3>\r\nApplications I\\'m going to examine for ideas to steal, particularily framework\r\nideas (error handling, inner loop, etc.)\r\n\r\n<ul>\r\n<li><a href=\\\"http://moveabletype.org\\\">Moveable Type</a> - in my few glaces at\r\nthe code its seemed intelligent, and well structured.  Runs under mod_perl and\r\nCGI, handles some complex UI demands like pages that use redirects to update\r\nprogress bars, and re-entrant forms.</li>\r\n<li><a href=\\\"http://bricolage.cc\\\">Bricolage</a> - based on Mason, I\\'ve been\r\nhearing good things about this CMS, particular about its clever <em>Burners</em>\r\nabstraction, hope to find other good things under the hood.  Don\\'t really know\r\nmuch about <a href=\\\"http://masonhq.com\\\">Mason</a>, not sure if that is going to\r\nbe barrier</li>\r\n<li><a href=\\\"http://fsck.com/projects/rt\\\">RT</a> - popular, mod_perl and Mason,\r\nticket tracking software. Also supports email, and command line interfaces.</li>\r\n<li><a href=\\\"http://scoop.kuro5hin.org\\\">Scoop</a> - haven\\'t looked at Scoop in a\r\nwhile, but I remember it seemed well done (having just come from looking at\r\nSlashcode 1.0), I wonder if it will stand the test of time.  Not expecting to\r\nfind anything all that relevant, but maybe.  Will probably do a quick skim of\r\nthe CMS parade: <a href=\\\"http://slashcode.com\\\">Slash</a>, <a\r\nhref=\\\"http://everydevel.com/\\\">Everything2</a>, and maybe <a\r\nhref=\\\"http://livejournal.com/developer/\\\">LiveJournal</a>.  Definitely want to look at \r\n<a href=\\\"http://www.livejournal.com/developer/embedding.bml\\\">LiveJournal\\'s embedding instructions.</a>\r\n<li><b>??</b> Do you any Perl web applications you would consider examples of best\r\npractices<b>??</b></li>\r\n</ul>\r\n</p>\r\n<p>\r\n<h3>Perl Frameworks</h3>\r\n<ul>\r\n<li><a href=\\\"http://www.openinteract.org\\\">OpenInteract</a> seems popular, and uses\r\nTT2, but leaves me cold, partially because I\\'m just not crazy about persistence\r\nlayers.  But I should probably spend some time looking at it.  <b>??</b> Any expirences using it <b>??</b>\r\n</li>\r\n<li>\r\n<a href=\\\"http://www.masonhq.com\\\">Mason</a> natively uses an embedded, page based\r\nexecution model, which seems PHP-like to me, but\r\n<a href=\\\"http://masonhq.com/user/autarch/Comps_vs_modules\\\">Design Issues with\r\nMason:  What are Components For?</a> seems to be simple guidelines for avoiding\r\nthe siren calls.  There is an Oreilly book coming out on it, which will be\r\n<a href=\\\"http://masonbook.com\\\">available online</a>, but the author says, <a\r\nhref=\\\"http://use.perl.org/comments.pl?sid=7183&cid=12705\\\">don\\'t expect it until\r\nmid-October</a>.\r\n</li>\r\n<li>\r\n<a href=\\\"http://wombat.sf.net\\\">Wombat</a> is billed as an implementation of the\r\nServlet API in Perl, but I can find exactly zero reference to anyone using it,\r\nnever a good sign.\r\n</li>\r\n<li>\r\n<a href=\\\"http://axkit.org\\\">AxKit</a> is a web framework built along the lines of\r\nCocoon.  I bet there are seriously cool ideas to steal in there, but I\\'ve been\r\nburned pretty badly playing with XSLT and don\\'t want to go back into that water\r\nright now.\r\n</li>\r\n<li>\r\n<a href=\\\"http://openframe.fotango.com/\\\">OpenFrame</a> also seems interesting. \r\nIt has the request and response objects ala servlets, and <a\r\nhref=\\\"http://use.perl.org/~acme\\\">acme</a> is being paid to work on it, and it\r\nhas a \\\"Slot\\\" concept which seems similiar to Brico\\'s Burner concept, and\r\nsupports TT2.  However it bills itself as an \\\"open source application framework\r\nfor distributed media applications.\\\"  Which isn\\'t really what we are building.\r\n</li>\r\n<li>\r\nA few others are listed at <a\r\nhref=\\\"http://perl.apache.org/products/app-server.html\\\">Application Servers and\r\nToolkits based on mod_perl</a>.  Also,\r\n<a href=\\\"http://perlmonks.org/index.pl?node=Web%20Application%20Frameworks%20and%20their%20Templating%20Engines%20with%20a%20Comparative%20Study%20of%20Template%20and%20HTML%3A%3ATemplate\r\n\\\">Web Frameworks and their Template Engines</a> is interesting.\r\n</li>\r\n<li>\r\nLast time I was looking at this stuff there was \r\n<a href=\\\"http://snafu.wgz.org/chromatic/jellybean.html\\\">JellyBean</a>, which no\r\nlonger seems maintained, and Iadio, which no longer exists.\r\n</li>\r\n<li>\r\nI found a <a href=\\\"http://perlmonks.org/index.pl?node_id=157946\\\">simple\r\nhome-rolled framework</a> that feels simliar to the one I did for <a\r\nhref=\\\"http://www.rockwoodleadership.org\\\">Rockwood</a>.  It was mentioned in this\r\n<a href=\\\"http://perlmonks.org/index.pl?node_id=157582\\\">interesting thread</a>.\r\n</li>\r\n<li>\r\nThe book, <a href=\\\"http://www.globalspin.com/thebook/\\\">Perl for the Web</a> from\r\nNew Riders, is freely available online and seems interesting if out of date.\r\n</li>\r\n</ul>\r\n</p>\r\n<h3>Piecemealing with Modules</h3>\r\n<ul>\r\n<li>\r\nWe\\'ll definitely be using <a href=\\\"http://www.template-toolkit.org\\\">Template\r\nToolkit</a>.  Read Perrin\\'s <a\r\nhref=\\\"http://perl.apache.org/docs/tutorials/tmpl/comparison/comparison.html\\\">classic\r\narticle on Template engines</a>. (the sequel to his classic article on \r\n<a\r\nhref=\\\"http://perl.apache.org/docs/tutorials/apps/scale_etoys/etoys.html\\\">building\r\nthe eToys website</a>.)\r\n</li>\r\n<li>\r\n <a href=\\\"http://search.cpan.org/dist/Apache-Session/\\\">Apache::Session</a> is a\r\n given.  Not finding a good webpage on it, but it has great POD.\r\n </li>\r\n <li>\r\n <a href=\\\"http://perl-cache.sf.net\\\">Cache::Cache</a> is a given.  The Perl Cache\r\n project is one of those tools, like TT2, that makes you never want to leave\r\n Perl.\r\n</li>\r\n<li>\r\nDBI is an of course, and I think we\\'ll be avoiding the DBIx namespace in favour\r\nof having a peer layer with hand written SQL.\r\n</li>\r\n<li>\r\nMany people are reccomending <a\r\nhref=\\\"http://search.cpan.org/dist/CGI-Application/\\\">CGI::Application</a> as an\r\nimplementation of the central dispatchers.  An article on <a href=\\\"http://www.perl.com/lpt/a/2001/06/05/cgi.html\r\n\\\">using CGI::Application</a>, and on <a href=\\\"http://perlmonks.org/index.pl?node_id=142580\r\n\\\">using CGI::Application with Template Toolkit</a>.  I\\'ve looked at it before,\r\nand it was simpler to roll my own, but I\\'m going to check it out again.  It runs cleanly under Apache::Registry, but isn\\'t really a full blown mod_perl app.\r\n</li>\r\n<li>\r\n<a href=\\\"http://search.cpan.org/author/MARKSTOS/Data-FormValidator-1.11/lib/Data/FormValidator.pm\\\">Data::FormValidator</a> is\r\nrecommended, and includes a <a\r\nhref=\\\"http://search.cpan.org/author/TBONE/Data-FormValidator-Tutorial-1.3/Tutorial.pm\\\">tutorial</a>,\r\nbut some people prefer <a\r\nhref=\\\"http://search.cpan.org/author/FRAJULAC/FormValidator-0.11/HTML/FormValidator.pm\\\">HTML::FormValidator</a>,\r\nbut I don\\'t really know what the difference is yet.  Hmmm, they look like they might actually be the same module.  <b>??</b> Any idea <b>??</b>\r\n</li>\r\n<li><b>??</b> Did I leave out your favorite module <b>??</b>\r\n</ul>\r\n</p>\r\n<p>\r\n<b>UPDATE</b>: After looking at the available options, and at \r\n<a href=\\\"http://www.theserverside.com/resources/article.jsp?l=Struts1_1\\\">Struts 1.1</a>, I would go with Java if I didn\\'t know I would have an insurrection on my hands.\r\n</p>"
tags:
    - Longer
    - patterns
    - perl
    - programming
    - state.of.the.art
    - web
    - webdev
---

In preparation for doing the Protest.net re-write I’m doing some research on web frameworks. I find myself rewriting the same central dispatcher code, adding refinements, like a redirect method (similiar to the forward() method in servlets) and in general missing some of the refinements of Java’s web environments (servlets, [Struts](http://jakarta.apache.org/struts/index.html), bundles for i18n) while refusing to give up Perl, CPAN, and [Template Toolkit](http://www.tt2.com).

This is my brain dump so far. Lots of questions, a few answers. The next step will be firing up the text editor and looking under the hood.

### Steal from the Best

Applications I’m going to examine for ideas to steal, particularily framework ideas (error handling, inner loop, etc.) - [Moveable Type](http://moveabletype.org) – in my few glaces at the code its seemed intelligent, and well structured. Runs under mod\_perl and CGI, handles some complex UI demands like pages that use redirects to update progress bars, and re-entrant forms.
- [Bricolage](http://bricolage.cc) – based on Mason, I’ve been hearing good things about this CMS, particular about its clever *Burners*abstraction, hope to find other good things under the hood. Don’t really know much about [Mason](http://masonhq.com), not sure if that is going to be barrier
- [RT](http://fsck.com/projects/rt) – popular, mod\_perl and Mason, ticket tracking software. Also supports email, and command line interfaces.
- [Scoop](http://scoop.kuro5hin.org) – haven’t looked at Scoop in a while, but I remember it seemed well done (having just come from looking at Slashcode 1.0), I wonder if it will stand the test of time. Not expecting to find anything all that relevant, but maybe. Will probably do a quick skim of the CMS parade: [Slash](http://slashcode.com), [Everything2](http://everydevel.com/), and maybe [LiveJournal](http://livejournal.com/developer/). Definitely want to look at [LiveJournal’s embedding instructions.](http://www.livejournal.com/developer/embedding.bml)
- **??** Do you any Perl web applications you would consider examples of best practices**??**

### Perl Frameworks

- [OpenInteract](http://www.openinteract.org) seems popular, and uses TT2, but leaves me cold, partially because I’m just not crazy about persistence layers. But I should probably spend some time looking at it. **??** Any expirences using it **??**
- [Mason](http://www.masonhq.com) natively uses an embedded, page based execution model, which seems PHP-like to me, but [Design Issues with Mason: What are Components For?](http://masonhq.com/user/autarch/Comps_vs_modules) seems to be simple guidelines for avoiding the siren calls. There is an Oreilly book coming out on it, which will be [available online](http://masonbook.com), but the author says, [don’t expect it until mid-October](http://use.perl.org/comments.pl?sid=7183&cid=12705).
- [Wombat](http://wombat.sf.net) is billed as an implementation of the Servlet API in Perl, but I can find exactly zero reference to anyone using it, never a good sign.
- [AxKit](http://axkit.org) is a web framework built along the lines of Cocoon. I bet there are seriously cool ideas to steal in there, but I’ve been burned pretty badly playing with XSLT and don’t want to go back into that water right now.
- [OpenFrame](http://openframe.fotango.com/) also seems interesting. It has the request and response objects ala servlets, and [acme](http://use.perl.org/~acme) is being paid to work on it, and it has a “Slot” concept which seems similiar to Brico’s Burner concept, and supports TT2. However it bills itself as an “open source application framework for distributed media applications.” Which isn’t really what we are building.
- A few others are listed at [Application Servers and Toolkits based on mod*perl*](http://perl.apache.org/products/app-server.html). Also, [Web Frameworks and their Template Engines](http://perlmonks.org/index.pl?node=Web%20Application%20Frameworks%20and%20their%20Templating%20Engines%20with%20a%20Comparative%20Study%20of%20Template%20and%20HTML%3A%3ATemplate
    ) is interesting.
- Last time I was looking at this stuff there was [JellyBean](http://snafu.wgz.org/chromatic/jellybean.html), which no longer seems maintained, and Iadio, which no longer exists.
- I found a [simple home-rolled framework](http://perlmonks.org/index.pl?node_id=157946) that feels simliar to the one I did for [Rockwood](http://www.rockwoodleadership.org). It was mentioned in this [interesting thread](http://perlmonks.org/index.pl?node_id=157582).
- The book, [Perl for the Web](http://www.globalspin.com/thebook/) from New Riders, is freely available online and seems interesting if out of date.

### Piecemealing with Modules

- We’ll definitely be using [Template Toolkit](http://www.template-toolkit.org). Read Perrin’s [classic article on Template engines](http://perl.apache.org/docs/tutorials/tmpl/comparison/comparison.html). (the sequel to his classic article on [building the eToys website](http://perl.apache.org/docs/tutorials/apps/scale_etoys/etoys.html).)
- [Apache::Session](http://search.cpan.org/dist/Apache-Session/) is a given. Not finding a good webpage on it, but it has great POD.
- [Cache::Cache](http://perl-cache.sf.net) is a given. The Perl Cache project is one of those tools, like TT2, that makes you never want to leave Perl.
- DBI is an of course, and I think we’ll be avoiding the DBIx namespace in favour of having a peer layer with hand written SQL.
- Many people are reccomending [CGI::Application](http://search.cpan.org/dist/CGI-Application/) as an implementation of the central dispatchers. An article on [using CGI::Application](http://www.perl.com/lpt/a/2001/06/05/cgi.html
    ), and on [using CGI::Application with Template Toolkit](http://perlmonks.org/index.pl?node_id=142580
    ). I’ve looked at it before, and it was simpler to roll my own, but I’m going to check it out again. It runs cleanly under Apache::Registry, but isn’t really a full blown modperl app.
- [Data::FormValidator](http://search.cpan.org/author/MARKSTOS/Data-FormValidator-1.11/lib/Data/FormValidator.pm) is recommended, and includes a [tutorial](http://search.cpan.org/author/TBONE/Data-FormValidator-Tutorial-1.3/Tutorial.pm), but some people prefer [HTML::FormValidator](http://search.cpan.org/author/FRAJULAC/FormValidator-0.11/HTML/FormValidator.pm), but I don’t really know what the difference is yet. Hmmm, they look like they might actually be the same module. **??** Any idea **??**
- **??** Did I leave out your favorite module **??**

**UPDATE**: After looking at the available options, and at [Struts 1.1](http://www.theserverside.com/resources/article.jsp?l=Struts1_1), I would go with Java if I didn’t know I would have an insurrection on my hands.