<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Lazy Perl Web Hacking til Sunrise | Kellan Elliott-McCrea: Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Lazy Perl Web Hacking til Sunrise" />
<meta name="author" content="Kellan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Interestingly enough (at least to me), it was a year ago Wednesday that I was sitting up, listening to the rain pound on a Pacific Northwestern roof, reviewing the disorganized state of Perl web development. Then, unlike now, grand visions of vast OO architectures, transparent caches, and a re-vamped Protest.net danced in my head. Tonight I’m just hacking a personal project because I can’t sleep." />
<meta property="og:description" content="Interestingly enough (at least to me), it was a year ago Wednesday that I was sitting up, listening to the rain pound on a Pacific Northwestern roof, reviewing the disorganized state of Perl web development. Then, unlike now, grand visions of vast OO architectures, transparent caches, and a re-vamped Protest.net danced in my head. Tonight I’m just hacking a personal project because I can’t sleep." />
<link rel="canonical" href="https://laughingmeme.org/2003/09/13/lazy-perl-web-hacking-til-sunrise/" />
<meta property="og:url" content="https://laughingmeme.org/2003/09/13/lazy-perl-web-hacking-til-sunrise/" />
<meta property="og:site_name" content="Kellan Elliott-McCrea: Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2003-09-13T07:13:18+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lazy Perl Web Hacking til Sunrise" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kellan"},"dateModified":"2003-09-13T07:13:18+00:00","datePublished":"2003-09-13T07:13:18+00:00","description":"Interestingly enough (at least to me), it was a year ago Wednesday that I was sitting up, listening to the rain pound on a Pacific Northwestern roof, reviewing the disorganized state of Perl web development. Then, unlike now, grand visions of vast OO architectures, transparent caches, and a re-vamped Protest.net danced in my head. Tonight I’m just hacking a personal project because I can’t sleep.","headline":"Lazy Perl Web Hacking til Sunrise","mainEntityOfPage":{"@type":"WebPage","@id":"https://laughingmeme.org/2003/09/13/lazy-perl-web-hacking-til-sunrise/"},"url":"https://laughingmeme.org/2003/09/13/lazy-perl-web-hacking-til-sunrise/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://laughingmeme.org/feed.xml" title="Kellan Elliott-McCrea: Blog" /><style>
    .post-date {
      float: right;
    }
  </style>
  <script defer data-domain="laughingmeme.org" src="https://plausible.io/js/script.js"></script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kellan Elliott-McCrea: Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="https://kellanem.com/notes/">Leadership notes</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Lazy Perl Web Hacking til Sunrise</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2003-09-13T07:13:18+00:00" itemprop="datePublished">Sep 13, 2003
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Kellan</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Interestingly enough (at least to me), it was <a href="http://laughingmeme.org/archives/000154.html">a year ago Wednesday</a> that I was sitting up, listening to the rain pound on a <a href="http://laughingmeme.org/archives/000174.html">Pacific Northwestern roof</a>, reviewing the disorganized state of Perl web development. Then, unlike now, grand visions of vast OO architectures, transparent caches, and a re-vamped <a href="http://protest.net">Protest.net</a> danced in my head. Tonight I’m just hacking a personal project because I can’t sleep.</p>

<table>
  <tbody>
    <tr>
      <td>I made my peace with <a href="http://search.cpan.org/dist/Class-DBI">Class::DBI</a> tonight, or at least until I find something else about it that boggles, confuses, and frustrates me. It takes a real leap of faith, and a cast iron “La la la, I’m pretending its not there” outlook to switch from writing carefully hand crafted SQL, with delicate multi-table (inner</td>
      <td>outer</td>
      <td>left</td>
      <td>cross</td>
      <td>hectic) joins, to letting <acronym title="Class::DBI">CDBI</acronym> do its relatively naive (by design) thing. I recommend turning on the MySQL query log just to get a sense of how it <acronym title="Class::DBI">CDBI</acronym> works, useful while you’re still trying to understand the syntax, and to do what limited tuning is allowed through the interface. (still a novice admittedly) And then turn it off, and try to forget what you saw, helps if you’re the type to repress scarring memories.</td>
    </tr>
  </tbody>
</table>

<h3 id="formbuilder-not-quite-the-missing-link">FormBuilder, Not Quite the Missing Link</h3>

<p>So I’ve got <a href="http://search.cpan.org/dist/Class-DBI">Class::DBI</a>, and <a href="http://template-toolkit.org">Template Toolkit</a> is a shoe in, I feel like <a href="http://formbuilder.org">CGI::FormBuilder</a> is the last piece of the puzzle, to making really lazy (in the best possible sense of the word) Perl web applications. But…. ### Lets Talk Features</p>

<p><a href="http://formbuilder.org">CGI::FormBuilder</a> has a <a href="http://www.formbuilder.org/features/">great set of features</a>, a little over the top at times, but generally real solid, and easy to use, and <a href="http://www.formbuilder.org/tutor/"><strong>amazing documentation</strong></a>. However, its object orientation is a very thin veneer over a procedural heart, and therein lies the problem. My ideal system is at once not that far off from <acronym title="CGI::FormBuilder">CFB</acronym>, and yet worlds away.  A good Form class should</p>

<ul>
  <li>Handle parsing of CGI variables, naturally</li>
  <li>Aid in rendering your form</li>
  <li>Have at least hooks for validation</li>
</ul>

<p>All of which <acronym title="CGI::FormBuilder">CFB</acronym> does, in spades. Also</p>

<ul>
  <li>Not try to do all the rendering for you. (see my <a href="http://laughingmeme.org/archives/001055.html">PHP, A Few Tips</a>)</li>
  <li>Allow subclassing – I want an object for each form in my application</li>
  <li>Allow subclasses to define complex input types like an image upload field, or a date field (3 constrained pull downs, or maybe a <a href="http://dynarch.com/mishoo/calendar.epl">text field+dhtml widget</a>). This is where CGI::FormBuilder seems to me to lose biggest not going the OO route.</li>
  <li>Allow form defaults to be set from objects (for example <a href="http://search.cpan.org/dist/Class-Accessor/">Class::Accessor</a> aka Class::DBI objects) not just hashrefs</li>
</ul>

<h3 id="more-on-template-integration">More on Template Integration</h3>

<p>CGI::FormBuilder has native support for HTML::Template, and Template::Toolkit which is great. What that means in the context of CFB is it is capable of accepting a template specification as part of its render method. That leads to inside out code. (or so it seems to me) Ideally I would like to be able to pass a form object to a template and use it like so. ```</p>

<form>
<input type="hidden" action="add" />
Name: [% form.name.html %]
Email: [% form.email.html %]
...
<input type="Submit" />
```

Rather then having to pass my template to the form object, and use it to draw every aspect of the form. I did find this [clever, but evil hack](http://perlmonks.thepen.com/270363.html) to move in this direction, but the idea is to be lazy in a way you can be proud of, and faking a template to capture the rendered variables is just a little too much.

### More on Complex Input Types

I’ve got events, calendars, and dates on my mind again, what a surprise. So the “Image Upload” input type was just thrown in there to make it seem like I had thought about this a little more. I want to be able to pass a form element object a [DateTime](http://search.cpan.org/dist/DateTime/) object, and get 3 properly configured pull down menus. Similarly I want to be able to ask <acronym title="CGI::FormBuilder">CFB</acronym> for the value of my date field, and get back a DT object, not ${name}*day, ${name}*month, ${name}\_year. Of course you would probably have to hold on to the values the user submitted in order to re-display the form on an error condition, but tuck it away somewhere I don’t have to see it. Seems like Class::DBI’s inflate/deflate API would be a good model for this. This is where you chime in and tell me you’ve heard my pleas and written the perfect solution, or that its been sitting on CPAN for the last 8 years, its called cgi-lib.pl, and how have I missed it.
</form>

  </div><a class="u-url" href="/2003/09/13/lazy-perl-web-hacking-til-sunrise/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kellan Elliott-McCrea</li><li><a class="u-email" href="mailto:kellan@gmail.com">kellan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li>On Mastodon: <a href="https://fiasco.social/@kellan">@kellan</a></li><li><a href="https://www.twitter.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.flickr.com/photos/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#flickr"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://github.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.linkedin.com/in/kellanem"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">kellanem</span></a></li><li><a href="https://kellanem.com/notes/">Leadership blog</a></li>
</ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A personal blog of Kellan Elliott-McCrea. I don&#39;t really know what a &quot;laughing meme&quot; is. It sounded cool in 1999.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
