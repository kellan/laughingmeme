<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Binary Search, and Testing | Kellan Elliott-McCrea: Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Binary Search, and Testing" />
<meta name="author" content="Kellan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Buzz put me in a difficult position. He sent me this great article, Testing is not a substitute for thinking." />
<meta property="og:description" content="Buzz put me in a difficult position. He sent me this great article, Testing is not a substitute for thinking." />
<link rel="canonical" href="https://laughingmeme.org/2010/04/25/binary-search-and-testing/" />
<meta property="og:url" content="https://laughingmeme.org/2010/04/25/binary-search-and-testing/" />
<meta property="og:site_name" content="Kellan Elliott-McCrea: Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-04-25T13:30:09+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Binary Search, and Testing" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kellan"},"dateModified":"2010-04-25T13:30:09+00:00","datePublished":"2010-04-25T13:30:09+00:00","description":"Buzz put me in a difficult position. He sent me this great article, Testing is not a substitute for thinking.","headline":"Binary Search, and Testing","mainEntityOfPage":{"@type":"WebPage","@id":"https://laughingmeme.org/2010/04/25/binary-search-and-testing/"},"url":"https://laughingmeme.org/2010/04/25/binary-search-and-testing/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://laughingmeme.org/feed.xml" title="Kellan Elliott-McCrea: Blog" /><style>
    .post-date {
      float: right;
    }
  </style>
  <script defer data-domain="laughingmeme.org" src="https://plausible.io/js/script.js"></script>

</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Kellan Elliott-McCrea: Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="https://kellanem.com/notes/">Leadership notes</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Binary Search, and Testing</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2010-04-25T13:30:09+00:00" itemprop="datePublished">Apr 25, 2010
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Kellan</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="http://log.scifihifi.com/">Buzz</a> put me in a difficult position. He sent me this great article, <a href="http://reprog.wordpress.com/2010/04/23/testing-is-not-a-substitute-for-thinking-binary-search-part-3/">Testing is not a substitute for thinking</a>.</p>

<p>Testing is obviously useful, and I never ship any code without testing it, but I’m also known to be annoyed with the cargo cult application of TDD. Read the blog post if you haven’t already, the arguments are nuanced, and I won’t do them justice rehashing them. (<a href="http://twitter.com/schuyler/status/11891558007">see also</a>)</p>

<p>The point that really resonated for me is</p>

<blockquote>
  <p>Tests increase confidence, not understanding</p>
</blockquote>

<p>So far, so good.</p>

<p>Except, here’s the sticky bit. This whole blog post turns out to be wrap up for a challenge started in an earlier blog post, <a href="http://reprog.wordpress.com/2010/04/19/are-you-one-of-the-10-percent/">Are you one of the 10% of programmers who can write a binary search?</a>.</p>

<p>The challenge is, sit down, write an implementation of binary search based on Jon Bentley’s classic description from start to finish, <strong>WITHOUT</strong> testing it. The idea is to see if you can write a program purely from first principles without the thrashing around that characterizes the daily grind of every working programmer.</p>

<p>So what’s the difficult position? Well this whole challenge smells suspiciously of whiteboard-programming something I detest probably even more then TDD-will-save-us fanaticism. Besides it was a nice day yesterday, so I let it be.</p>

<p>But then today <a href="http://rc3.org/2010/04/25/becoming-a-better-programmer/">another smart programmer</a> links to it, and today it’s raining outside, and so here it is, my binary search impl., in Ruby, un-tested, here to embarrass me.</p>

<h1 id="spoiler-alerts">SPOILER ALERTS!</h1>

<h1 id="you-should-go-do-your-own-and-then-come-back">YOU SHOULD GO DO YOUR OWN, AND THEN COME BACK.</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def binarysearch(t, list, lo=0, hi=list.length-1)

  return nil if (hi &lt; lo)

  m = (hi-lo)/2+lo

  if (t == list[m])
    m
  elsif (t &gt; list[m])
    binarysearch(t, list, m+1, hi)
  elsif (t &lt; list[m])
    binarysearch(t, list, lo, m-1)
  end
end

</code></pre></div></div>

<p>I spent ~25 minutes on it, mostly pysch-ing myself out. In the end it feels mostly written from memory — without having seen this form somewhere at some point (probably in <code class="language-plaintext highlighter-rouge">Programming Pearls</code>) I probably would have reached for a loop based version.</p>

<p>Now that I’ve got it copied here in its final form I notice that my code for picking the mid-point is pretty silly (easier written as <code class="language-plaintext highlighter-rouge">m=(hi+lo)/2</code>). Additionally if I was writing this in production code I’d almost certainly be checking my invariants much more explicitly. Less elegant, unnecessary, more lines of code, but much much clearer for the next guy.</p>

<p>This is my first Ruby in probably 4 months (and my first implementation of a recursive binarysearch in much longer), so if you happen to see an egregious bug, be gentle on me.</p>

<p>Also, if I lent you my copy of <a href="http://www.amazon.com/Programming-Pearls-2nd-Jon-Bentley/dp/0201657880">Programming Pearls</a>, can I have it back?</p>

<p>Now, who remembers what the story was with the first binary search having a bug? I think I read the story in a Dr. Dobbs sometime in the mid-90s, but my memory isn’t what it once was.</p>

<p><strong>update:</strong> I’m finding it interesting comparing <a href="http://metaatem.net/2010/04/25/binary-search-yall">how different my implementation is vs Kastner’s</a> given we’re using the same language to implement the same essentially trivially algorithm.</p>

  </div><a class="u-url" href="/2010/04/25/binary-search-and-testing/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Kellan Elliott-McCrea</li><li><a class="u-email" href="mailto:kellan@gmail.com">kellan@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list">
  <li>On Mastodon: <a href="https://fiasco.social/@kellan">@kellan</a></li><li><a href="https://www.twitter.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.flickr.com/photos/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#flickr"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://github.com/kellan"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">kellan</span></a></li><li><a href="https://www.linkedin.com/in/kellanem"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">kellanem</span></a></li><li><a href="https://kellanem.com/notes/">Leadership blog</a></li>
</ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A personal blog of Kellan Elliott-McCrea. I don&#39;t really know what a &quot;laughing meme&quot; is. It sounded cool in 1999.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
